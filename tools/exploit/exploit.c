#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <string.h>

#define BUFFER_SIZE 4096

int main(int argc, char *argv[]){
	if (argc != 2){
		printf("Usage : \n");
		printf("        exploit [SHELLCODE_FILE]\n");
		exit(1);
	}
	char buffer[BUFFER_SIZE] = {0};
	char *filename = argv[1];
	int file = open(filename, O_RDONLY);
	int size = read(file, buffer, BUFFER_SIZE);
	printf("%s", buffer);
	close(file);
	void (*exploit)(void);
	exploit = &buffer;
	exploit();
	return 0;
}
